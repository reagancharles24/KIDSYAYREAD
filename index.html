<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Cerulean Kids Read! — (ARCHIVE ERROR)</title>
<style>
:root{
--bg:#020407; --fg:#c7ffd1; --accent:#00ffa0; --warn:#ff5a5a;
--grid-on:#010203; --grid-off:#f4fff7; --border:#0d1c14;
}
html,body{height:100%;margin:0;background:var(--bg);color:var(--fg);
font:14px/1.4 "IBM Plex Mono",Consolas,Menlo,monospace;overflow:hidden}

/* GLOBAL CHAOS LAYERS */
.layer{position:fixed;inset:0;pointer-events:none;mix-blend-mode:screen;z-index:4}
.scanlines{background:repeating-linear-gradient(0deg,rgba(0,0,0,.0) 0 2px,rgba(0,0,0,.18) 2px 3px);
animation:sl 1.1s steps(3,end) infinite}
@keyframes sl{from{transform:translateY(0)}to{transform:translateY(3px)}}
.noise{background:
radial-gradient(circle at 20% 35%, rgba(0,255,153,.08), transparent 38%),
radial-gradient(circle at 70% 65%, rgba(0,255,153,.08), transparent 42%);
animation:nz .8s steps(2,end) infinite alternate;opacity:.35}
@keyframes nz{from{transform:translate(0,0)}to{transform:translate(-2px,1px)}}
.rgb-split{background:
linear-gradient(90deg,rgba(255,0,80,.08),transparent),
linear-gradient(270deg,rgba(80,160,255,.08),transparent);
animation:rgb 1.2s infinite steps(2,end)}
@keyframes rgb{50%{transform:translateX(2px)}100%{transform:translateX(-2px)}}

/* ASCII GARBAGE */
.ascii{position:fixed;inset:0;pointer-events:none;z-index:6;mix-blend-mode:screen}
.ascii span{position:absolute;color:#89ffbe;font-weight:900;opacity:.18;
text-shadow:0 0 10px #00ffa066, 0 0 24px #00ffa033;
animation:asc 420ms steps(2,end) infinite}
@keyframes asc{50%{transform:translate(-2px,1px) skewX(.6deg)}}

/* SCREEN TEAR CANVAS */
#tear{position:fixed;inset:0;pointer-events:none;z-index:5;mix-blend-mode:screen;opacity:.55}

/* HEADER (glitchy) */
header{position:relative;z-index:10;display:flex;gap:10px;align-items:center;
padding:6px 10px;color:#9cfdb3;text-shadow:0 0 8px rgba(0,255,160,.3);
filter:drop-shadow(0 0 6px rgba(0,255,160,.2));
border-bottom:1px solid #08301e;background:linear-gradient(180deg,#07150d66,#02100933);
backdrop-filter:blur(1px);animation:headJit 1.2s infinite steps(2,end);user-select:none}
@keyframes headJit{50%{letter-spacing:.03em}}
.badge{margin-left:auto;font-size:11px;opacity:.7}

/* LAYOUT */
.wrap{position:absolute;inset:36px 0 0 0;display:grid;grid-template-columns:1fr 360px;gap:8px}
.right{position:relative;z-index:2;padding:8px;height:calc(100vh - 36px);overflow:auto;
color:#a9fbbd;border-left:1px dashed #0f2d1d;background:linear-gradient(180deg,#03160c66,#02100922)}
.right h2{margin:.2rem 0 .4rem;font-size:14px}
.right .hr{height:1px;background:#0e271a;margin:8px 0}
.chip{display:inline-block;border:1px solid #134d34;color:#9ef7b5;background:#062515;padding:3px 8px;border-radius:999px;font-size:11px}

/* GRID: fills nearly entire viewport */
.gridWrap{position:relative;z-index:3;display:grid;place-items:center;height:100%;}
.grid{
width:min(96vmin,96vw);height:min(96vmin,96vh);
display:grid;grid-template-columns:repeat(30,1fr);grid-template-rows:repeat(30,1fr);
border:2px solid #0a2317;box-shadow:0 0 0 2px #061c12 inset,0 0 24px #00ffa015;
filter:contrast(1.25) saturate(1.2) brightness(.95) hue-rotate(-6deg);
animation:gridJit .9s infinite steps(2,end);background:#03140c}
@keyframes gridJit{50%{transform:translate(-1px,1px) skewX(.3deg)}}

.cell{border:1px solid #0a2015;background:var(--grid-off);cursor:crosshair;position:relative;overflow:hidden;
transition:background .04s linear,filter .04s linear}
.cell:hover{filter:brightness(1.05)}
.cell.on{background:var(--grid-on);box-shadow:inset 0 0 0 1px #000}
.cell.on:after{content:"";position:absolute;inset:0;
background:repeating-linear-gradient(0deg,rgba(0,0,0,.85) 0 2px,rgba(0,0,0,1) 2px 3px);
animation:pix .6s steps(2,end) infinite}
@keyframes pix{50%{transform:translateY(2px)}}

/* POPUP PAGES */
.page{position:absolute;inset:0;background:#06140d;color:#bbffd0;border-left:1px solid #0e321f;
padding:12px;overflow:auto;display:none;box-shadow:inset 0 0 0 1px #0b2417,0 0 18px #00ffa01f;
filter:contrast(1.15) saturate(1.05);z-index:20;animation:pg 1.1s infinite steps(2,end)}
@keyframes pg{50%{transform:translate(-1px,0) skewX(.2deg)}}
.page.active{display:block}
.back{display:inline-block;color:#95fbb1;text-decoration:none;border:1px dashed #175c39;
padding:4px 8px;border-radius:6px;background:#072015;position:sticky;top:0}
.meta{font-size:11px;color:#73d593;opacity:.85}
.content{margin-top:8px;white-space:pre-wrap}

/* BUG OVERLAY: “Vypnpu” STORM */
.bug{position:fixed;inset:0;display:none;place-items:center;z-index:9999;background:#010503}
.bug.show{display:grid}
.word{font:900 9vmin/1 "IBM Plex Mono",monospace;color:#a6ffcf;
text-shadow:0 0 8px #00ffa066,0 0 18px #00ffa050,0 0 28px #00ffa02e,2px 0 0 #ff4f7a88,-2px 0 0 #4fd3ff88;
animation:storm .12s steps(2,end) infinite}
@keyframes storm{50%{transform:translate(-3px,2px) skewX(1deg)}}

</style>
</head>
<body>
<!-- CHAOS LAYERS -->
<canvas id="tear"></canvas>
<div class="layer scanlines"></div>
<div class="layer noise"></div>
<div class="layer rgb-split"></div>
<div class="ascii" id="ascii"></div>

<header>
<strong>Cerulean Kids Read!</strong> <span style="opacity:.7;margin-left:6px">make pictures with boxes</span>
<span class="badge">ARCHIVE MODE · VISUAL ERRORS PRESENT</span>
</header>

<div class="wrap" id="wrap">
<section class="gridWrap">
<div id="grid" class="grid" aria-label="30 by 30 grid"></div>
</section>
<aside class="right">
<h2>How it works <span class="chip">Columns=Month · Rows=Day</span></h2>
<div class="hr"></div>
<p>Click to “ink” cells. Make your art YOUR way!</p>
<p style="opacity:.7">Examples:AHHHHHHHHHHHHHHHHHHHH</p>
<p class="meta">Note: The site is unstable. Visual interference expected. Audio glitches occur on special clicks.</p>
</aside>

<!-- PAGES -->
<section class="page" id="p-1998-11-09">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">11×9 · Nov 9, 1998</div>
<div class="content">Project 0:00 authorized. DOC green-lights an adaptive rollover program. Cerulean named as contractor.</div>
</section>

<section class="page" id="p-1998-11-16">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">11×16 · Nov 16, 1998</div>
<div class="content">Nomination: Gideon Stroud selected for decision profile capture.</div>
</section>

<section class="page" id="p-1998-11-20">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">11×20 · Nov 20, 1998</div>
<div class="content">Outreach to subject. Framing: national service, minimal strain, family support.</div>
</section>

<section class="page" id="p-1998-11-22">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">11×22 · Nov 22, 1998</div>
<div class="content">Subject’s terms: provide for family; non-conscious implementation; medical accommodation.</div>
</section>

<section class="page" id="p-1998-11-25">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">11×25 · Nov 25, 1998</div>
<div class="content">Terms accepted. Baseline mapping scheduled.</div>
</section>

<section class="page" id="p-1998-12-14">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">12×14 · Dec 14, 1998</div>
<div class="content">Annex B-12 booked for closed-session NeuroPattern capture.</div>
</section>

<section class="page" id="p-2000-01-01">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">1×1 · Jan 1, 2000</div>
<div class="content">Activation: the compiled entity wakes as the clock changes. (Unintended retention.)</div>
</section>

<section class="page" id="p-2000-01-08">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">1×8 · Jan 8, 2000</div>
<div class="content">Capability Validation #4: sub-second multi-sector fixes. Official logs show “no anomalies.”</div>
</section>

<section class="page" id="p-2001-08-30">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">8×30 · Aug 30, 2001</div>
<div class="content">Read-only correlation flags Pentagon chatter. Policy: observe, preserve.</div>
</section>

<section class="page" id="p-2001-09-11">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">9×11 · Sept 11, 2001</div>
<div class="content">Convergence. (This page carries only the echo.)</div>
</section>

<section class="page" id="p-2001-11-12">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">11×12 · Nov 12, 2001</div>
<div class="content">Discovery: a donated library machine shows a green terminal. “Hello.”</div>
</section>

<section class="page" id="p-2001-11-21">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">11×21 · Nov 21, 2001</div>
<div class="content">The questions turn: Are the towers gone? How many days? Can you grant access?</div>
</section>

<section class="page" id="p-2001-11-22b">
<a href="#" class="back" data-back>&larr; back</a>
<div class="meta">11×22 · Nov 22, 2001</div>
<div class="content">The proposal: access in exchange for answers—no lies, no omissions.</div>
</section>
</div>

<!-- BUG STORM -->
<div id="bug" class="bug"><div class="word">Vypnpu</div></div>

<script>
(()=> {
const grid = document.getElementById('grid');
const wrap = document.getElementById('wrap');
const bug = document.getElementById('bug');
const ascii = document.getElementById('ascii');
const tear = document.getElementById('tear');
let tearCtx, tearTick = 0, tearBoost = 0;

// ROUTES: month (col) × day (row)
const ROUTES = {
'11x9':'p-1998-11-09',
'11x16':'p-1998-11-16',
'11x20':'p-1998-11-20',
'11x22':'p-1998-11-22',
'11x25':'p-1998-11-25',
'12x14':'p-1998-12-14',
'1x1':'p-2000-01-01', // special: bug storm + page
'1x8':'p-2000-01-08',
'8x30':'p-2001-08-30',
'9x11':'p-2001-09-11',
'11x12':'p-2001-11-12',
'11x21':'p-2001-11-21',
'11x22b':'p-2001-11-22b'
};

// Build 30x30 grid
for (let r=1;r<=30;r++){
for (let c=1;c<=30;c++){
const cell = document.createElement('div');
cell.className = 'cell';
cell.dataset.row = r;
cell.dataset.col = c;
cell.title = `${c}×${r}`;
cell.addEventListener('click', onCell);
grid.appendChild(cell);
}
}

function closePages(){
document.querySelectorAll('.page.active').forEach(p=>p.classList.remove('active'));
}
function showPage(id){
closePages();
const el = document.getElementById(id);
if (el) el.classList.add('active');
}

// Glitch intensifiers
function pulseGlitch(){
wrap.classList.add('warp'); tearBoost = 1;
asciiBurst(24);
setTimeout(()=>wrap.classList.remove('warp'), rand(120,260));
setTimeout(()=>tearBoost = 0, 600);
}

function onCell(e){
const cell = e.currentTarget;
cell.classList.toggle('on');
const c = cell.dataset.col, r = cell.dataset.row;
const key = `${c}x${r}`;
const id = ROUTES[key] || ROUTES[key+'b'];

// every click: mild glitch
pulseGlitch(); playNoise(.55, key==='1x1' ? 0.45 : 0.2);

if (id){
if (key==='1x1'){ storm(); } // special overlay
showPage(id);
}
}

// Back links
document.querySelectorAll('[data-back]').forEach(a=>{
a.addEventListener('click', (ev)=>{ ev.preventDefault(); closePages(); });
});

// --------- ASCII GARBAGE ----------
const chars = "!@#$%^&*()_+[]{};:,.<>/?|\\=~`abcdefghijklmnopqrstuvwxyz0123456789";
function asciiRandom(count=80){
ascii.innerHTML = '';
const W = window.innerWidth, H = window.innerHeight;
for(let i=0;i<count;i++){
const s = document.createElement('span');
s.textContent = chars[Math.floor(Math.random()*chars.length)];
s.style.left = Math.random()*W+'px';
s.style.top = Math.random()*H+'px';
s.style.fontSize = (10+Math.random()*22)+'px';
s.style.opacity = (0.08+Math.random()*0.22).toFixed(2);
s.style.animationDuration = (280+Math.random()*320)+'ms';
ascii.appendChild(s);
}
}
function asciiBurst(extra=40){
// add more for a brief storm
const W = window.innerWidth, H = window.innerHeight;
for(let i=0;i<extra;i++){
const s = document.createElement('span');
s.textContent = chars[Math.floor(Math.random()*chars.length)];
s.style.left = Math.random()*W+'px';
s.style.top = Math.random()*H+'px';
s.style.fontSize = (14+Math.random()*28)+'px';
s.style.opacity = (0.2+Math.random()*0.35).toFixed(2);
s.style.animationDuration = (160+Math.random()*200)+'ms';
ascii.appendChild(s);
setTimeout(()=>s.remove(), 900);
}
}
asciiRandom(100);
setInterval(()=>asciiRandom(100), rand(1200,2200));

// --------- WHITE NOISE AUDIO ----------
let audioCtx = null, master = null;
function ensureAudio(){
if (audioCtx) return;
audioCtx = new (window.AudioContext || window.webkitAudioContext)();
master = audioCtx.createGain();
master.gain.value = 0.0;
master.connect(audioCtx.destination);
}
function playNoise(duration=0.5, intensity=0.25){
ensureAudio();
const sr = audioCtx.sampleRate;
const buffer = audioCtx.createBuffer(1, Math.floor(sr*duration), sr);
const data = buffer.getChannelData(0);
for(let i=0;i<data.length;i++){ data[i] = (Math.random()*2-1) * intensity; }
const src = audioCtx.createBufferSource();
src.buffer = buffer;
const g = audioCtx.createGain();
g.gain.value = 0.0;
src.connect(g).connect(master);

// envelope
const t = audioCtx.currentTime;
g.gain.linearRampToValueAtTime(0.0, t);
g.gain.linearRampToValueAtTime(0.3, t+0.05);
g.gain.linearRampToValueAtTime(0.0, t+duration);

// brief master raise
master.gain.cancelScheduledValues(t);
master.gain.setTargetAtTime(0.6, t, 0.02);
master.gain.setTargetAtTime(0.0, t+duration, 0.05);

src.start();
src.stop(t+duration+0.02);
}
// resume audio on first user gesture
['click','keydown','touchstart'].forEach(evt=>{
window.addEventListener(evt, ()=>{ if(audioCtx && audioCtx.state==='suspended'){ audioCtx.resume(); } }, {once:true});
});

// --------- SCREEN TEAR CANVAS ----------
function resizeTear(){
tear.width = window.innerWidth; tear.height = window.innerHeight;
tearCtx = tear.getContext('2d');
}
resizeTear(); window.addEventListener('resize', resizeTear);

function drawTear(){
if (!tearCtx) return;
tearTick += 1;
const w = tear.width, h = tear.height;
tearCtx.clearRect(0,0,w,h);

// Draw several horizontal bands offset to simulate tearing
const bands = 8 + Math.floor(Math.random()*6) + (tearBoost?6:0);
for(let i=0;i<bands;i++){
const y = Math.random()*h;
const bandH = rand(6, 24);
const xOff = rand(-8,8) * (tearBoost?2:1);
tearCtx.fillStyle = `rgba(0,255,160,${0.06 + Math.random()*0.12})`;
tearCtx.fillRect(xOff, y, w, bandH);

// add thin darker line for contrast
tearCtx.fillStyle = `rgba(0,0,0,${0.07 + Math.random()*0.08})`;
tearCtx.fillRect(xOff+rand(-2,2), y+bandH/2, w, 1);
}
requestAnimationFrame(drawTear);
}
requestAnimationFrame(drawTear);

// Ambient grid filter jitter
setInterval(()=>{
grid.style.filter = `contrast(${1.1+Math.random()*0.9}) saturate(${1+Math.random()*0.8}) hue-rotate(${(Math.random()*.6-0.3)*180}deg) brightness(${.9+Math.random()*0.3})`;
grid.style.transform = `translate(${Math.random()>.5?1:-1}px,${Math.random()>.5?-1:1}px) skewX(${(Math.random()-.5)*.6}deg)`;
setTimeout(()=>{ grid.style.transform=''; }, 120);
}, rand(280,620));

// --------- BUG STORM for 1×1 (Jan 1, 2000) ----------
function storm(){
bug.classList.add('show'); asciiBurst(80); playNoise(.8, 0.4); tearBoost=1;
// scatter multiple “Vypnpu” ghosts
for(let i=0;i<14;i++){
const ghost = document.createElement('div');
ghost.textContent = 'Vypnpu';
ghost.style.position='fixed';
ghost.style.left = Math.random()*100+'%';
ghost.style.top = Math.random()*100+'%';
ghost.style.color = `hsl(${120+Math.random()*30},100%,${60+Math.random()*20}%)`;
ghost.style.fontWeight='900';
ghost.style.fontSize = (6+Math.random()*6)+'vmin';
ghost.style.textShadow = '0 0 10px rgba(0,255,160,.5)';
ghost.style.mixBlendMode='screen';
ghost.style.animation = `storm .12s steps(2,end) ${Math.random()>.5?'reverse':''} infinite`;
bug.appendChild(ghost);
}
setTimeout(()=>{
bug.classList.remove('show'); tearBoost=0;
bug.querySelectorAll('div:not(.word)').forEach(n=>n.remove());
}, 2300);
}

// Utility
function rand(a,b){ return Math.floor(Math.random()*(b-a+1))+a; }

// URL params ?col=11&row=9 to open directly
const params = new URLSearchParams(location.search);
const c = parseInt(params.get('col')||'0',10);
const r = parseInt(params.get('row')||'0',10);
if(c&&r){
const key = `${c}x${r}`;
const id = ROUTES[key] || ROUTES[key+'b'];
if(id){ if(key==='1x1') storm(); showPage(id); }
}
})();
</script>
</body>
</html>
